<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Form-O-Fill Options</title>
  <link href="http://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css">
  <link rel="stylesheet" type="text/css" href="../vendor/chrome-bootstrap/chrome-bootstrap.css" />
  <!-- REMOVE START -->
  <link rel="stylesheet" type="text/css" href="../css/options.css" />
  <link rel="stylesheet" type="text/css" href="../vendor/intro.js/introjs.min.css" />
  <!-- REMOVE END -->
  <!-- BUILD START
  <link rel="stylesheet" type="text/css" href="../css/options.css" />
  BUILD END -->
</head>
<body class="chrome-bootstrap">
  <span class="version">##VERSION##</span>
  <div class="frame">
    <div class="navigation">
      <h1><a href="https://github.com/form-o-fill/form-o-fill-chrome-extension" target="_blank">Form-O-Fill</a></h1>
      <ul class="menu">
        <li class="selected">
          <a class="the-rule-editor-menu" href="#ruleeditor">Rule Editor</a>
        </li>
        <li>
          <a href="#workflows" class="workflows-menu">Workflows</a>
        </li>
        <li>
          <a href="#importexport" class="importexport-menu">Import / Export</a>
        </li>
        <li>
          <a href="#settings" class="settings-menu">Settings</a>
        </li>
        <li>
          <a href="#help">Help</a>
        </li>
        <li>
          <a href="#tutorials">Tutorials</a>
        </li>
        <li>
          <a href="#about">About</a>
        </li>
        <li>
          <a href="#changelog">Changelog</a>
        </li>
        <li>
          <a href="#privacy">Privacy policy</a>
        </li>
      </ul>
      <table class="rule-summary hidden">
        <tr>
          <td class="rule-name" colspan="2">&nbsp;</td>
        </tr>
        <tr>
          <td>Fields #</td>
          <td class="rule-fields-count"></td>
        </tr>
        <tr>
          <td>Part of workflow?</td>
          <td class="no rule-workflow-part"></td>
        </tr>
        <tr>
          <td>Uses import?</td>
          <td class="no rule-import-part"></td>
        </tr>
        <tr>
          <td>Autorun rule?</td>
          <td class="rule-autorun-part no"></td>
        </tr>
        <tr>
          <td>Empty fields only?</td>
          <td class="rule-empty-only-part no"></td>
        </tr>
        <tr>
          <td>Screenshot at end?</td>
          <td class="rule-screenshot-at-end no"></td>
        </tr>
      </table>
      <!-- REMOVE START -->
      <div class="tutorial-start">
        <strong>Start Tour:</strong>
        <a class="no-click tut-start-tour-1" href="javascript:void(0);">1</a>
        <a class="no-click tut-start-tour-3" href="javascript:void(0);">3</a>
        <a class="no-click tut-start-tour-4" href="javascript:void(0);">4</a>
        <a class="no-click tut-start-tour-5" href="javascript:void(0);">5</a>
        <a class="no-click tut-start-tour-6" href="javascript:void(0);">6</a>
        <a class="no-click tut-start-tour-7" href="javascript:void(0);">7</a>
        <a class="no-click tut-start-tour-8" href="javascript:void(0);">8</a>
        <a class="no-click tut-start-tour-9" href="javascript:void(0);">9</a>
        <a class="no-click tut-start-tour-10" href="javascript:void(0);">9 / Part 2</a>
        <a class="no-click tut-start-tour-11" href="javascript:void(0);">9 / Part 3</a>
        <a class="no-click tut-start-tour-12" href="javascript:void(0);">10</a>
        <a class="no-click tut-start-tour-13" href="javascript:void(0);">11</a>
      </div>
      <!-- REMOVE END -->
    </div>
    <div class="mainview view">

      <div id="ruleeditor" class="selected">
        <header>
          <h1>Rule Editor</h1>
        </header>
        <div class="content">
          <div class="editor">
            
            <!-- I18n needed -->
            <div id="notices">
              <div class="notice annotations-present">
                There are syntax errors present (check the gutter annotations in the editor).
                <a href="#" class="cmd-close-notice"></a>
              </div>
              <div class="notice extracted-present">
                There is an extracted form present, click <a href="#" class="cmd-append-extracted">here</a> to append the rule at the bottom of your current rules.
                <a href="#" class="cmd-close-notice"></a>
              </div>
              <div class="notice error before-function-needs-to-be-a-function-or-array">
                Please use a function for 'before' or 'after' blocks like this: <span class="code">before: function(resolve) { ...}</span> or an array of functions (<span class="code">before: [ function(resolve, env) {}, function(resolve, env) {}]</span>).
                <a href="#" class="cmd-close-notice"></a>
              </div>
              <div class="notice error before-function-needs-functions">
                Need at least one before/after function for array usage: <span class="code">before: [ function(resolve, env) {} ]</span>.
                <a href="#" class="cmd-close-notice"></a>
              </div>
              <div class="notice error before-function-needs-resolve-argument">
                The definition of a before/after function needs 'resolve' as its first argument: <span class="code">before: function(resolve) { ...}</span>
                <a href="#" class="cmd-close-notice"></a>
              </div>
              <div class="notice error before-function-needs-resolve-call">
                Please call your 'resolve' function somewhere in the 'before' or 'after' function:<br /><span class="code">before: function(resolve) { ... resolve(myData); }</span>
                <a href="#" class="cmd-close-notice"></a>
              </div>
              <div class="notice error need-var-rules">
                Please surround your rules with <span class="code">var rules = [ { ... rule 1 ... }, { ... rule 2 ... } ];</code>
                <a href="#" class="cmd-close-notice"></a>
              </div>
              <div class="notice error libs-using-reserved-namespaces">
                Please don't use the following library export names since they are reserved by Form-O-Fill:
                <ul></ul>
                <a href="#" class="cmd-close-notice"></a>
              </div>
              <div class="notice form-fill-errors">
                There have been errors while filling the form. The rule used was '<span class="rule-name"></span>' (url: '<span class="rule-url"></span>')
                <table>
                  <tr id="form-filling-errors-thead">
                    <th>selector</th>
                    <th>value</th>
                    <th>error</th>
                  </tr>
                </table>
                <a href="#" class="cmd-close-notice"></a>
              </div>
            </div>

            <div class="tabcontainer">
              <ul class="tabs">
                <li class="tab"><input type="text" value="" disabled /><a href="#" class="cmd-tabs-open"></a></li>
              </ul>
            </div>

            <div class="menu">
              <button class='save'>Save</button>
              <button class='reload'>Reload</button>
              <button class='format'>Format</button>
              <span class='info'></span>
              <select id="rules-overview"><option></option></select>
            </div>
            <div id="ruleeditor-ace"></div>
          </div>
        </div>
      </div>

      <div id="workflows">
        <header>
          <h1>Workflows</h1>
        </header>
        <div class="content">
          <div class="workflows">

            <div class="tabcontainer">
              <ul class="tabs">
                <li class="tab current"><input type="text" value="Workflows" disabled></li>
              </ul>
            </div>

            <div id="notices">
              <div class="notice wf-missing-rules">
                There are workflows with broken rule assignments. Click to view workflow.
                <ul class="wf-missing-rules-wfs"></ul>
              </div>
            </div>
            
            <div class="wf-all">
              <h3>Choose workflow to edit:</h3>
              <select>
                <option class="wf-no-created">no workflow defined</option>
              </select>
              <button class='wf-add-wf'>create new workflow</button>
              <span class='info'></span>
            </div>

            <div id="workfloweditor" style="display: none" data-workflow-id="0">
              <h3>Name:<span class="unsaved-changes">Unsaved!</span></h3>
              <input class="wf-name" type="text" value="" />
              <h3>Steps:</h3>
              <h4>Choose the rule to append and press 'add to workflow':</h4>
              <select class="rulelist"></select>
              <button class='wf-add-step'>add to workflow</button>
              <h4>Use drag/drop to reorder the steps.</h4>
              <ol></ol>
              <div class="actions">
                <button class='wf-button-save'>Save workflow</button>
                <button class='wf-button-delete'>Delete workflow</button>
                <button class='wf-button-cancel'>Cancel stuck workflow</button>
                <div class="wf-options">
                  <label>
                    <input type="checkbox" value="1" name="wf-take-screenshot" />
                    Save a screenshot for every workflow step
                  </label>
                </div>
              </div>
              <div class="wf-cancel-hint">(when rule matching doesn't work, try to cancel stuck workflows)</div>
            </div>
          </div>
        </div>
      </div>

      <!-- loaded per language -->
      <div id="help"></div>
      <div id="importexport"></div>

      <div id="settings">
        <header>
          <h1>Settings</h1>
        </header>
        <div class="content">

          <div class="tabcontainer">
            <ul class="tabs">
              <li class="tab current">
                <input type="text" value="Settings" disabled>
              </li>
              <li class="info"></li>
            </ul>
          </div>

          <div id="notices">
            <div class="notice settings-error-url">
              The import URL looks wrong. It must end with .js or .json.
              <a href="#" class="cmd-close-notice"></a>
            </div>

            <div class="notice import-remote-ready">
              Imported&nbsp;<span class="imp-wfs-count"></span>&nbsp;workflow(s) and&nbsp;<span class="imp-rules-count"></span>&nbsp;rule(s) from&nbsp;<a class="imp-rules-url" href="#"></a><br />
              I will keep them up to date. You will not find those rules in the editor since they are saved in a separate storage.
            </div>

            <div class="notice import-remote-fail-format">
              Failed to import. Please check the format of the import file.<br />
              Use <a href="#importexport">Export Rules &amp; Workflows</a> on the Import / Export panel to export a valid file.
            </div>

            <div class="notice import-remote-fail-fetch">
              Fetching the data from the <a href="#" class="imp-fail-fetch-url">remote URL</a> failed.<br />
              This is what the browser has to say:<br />
              <span class="imp-fail-fetch-msg"></span>
            </div>

            <div class="notice import-remote-fail-password">
              The import file at the <a href="#" class="imp-fail-fetch-url">remote URL</a> seems to be password protected.<br />
              Please enter the password for that file in the password field below. 
            </div>
            
            <div class="notice import-remote-fail-decrypt">
              The import file at the <a href="#" class="imp-fail-fetch-url">remote URL</a> seems to be password protected.<br />
              The password you entered below doesn't seem to decrypt the file properly.<br />
              Please re-enter the password and try again.
            </div>

          </div>

          <div class="checkbox">
            <label>
              <input type="checkbox" name="always-show-popup" id="settings-always-show-popup" />
              <span>Always show popup</span>
              <div class="comment">
                Check this if you want Form-O-Fill to always show the rule selection popup when you click the action button.
              </div>
              <div class="comment">
                If unchecked Form-O-Fill will instantly execute the rule <strong>if only one rule matches</strong>.
              </div>
            </label>
          </div>

          <div class="checkbox">
            <label>
              <input type="checkbox" name="reeval-rules" id="settings-reeval-rules" />
              <span>Re-match rules every two seconds</span>
              <div class="comment">
                Form-o-Fill will re-check if rules match every two seconds when this option is activated.<br/>
                Very useful for single page apps that dynamically change the DOM / the URL without a reload.
              </div>
            </label>
          </div>

          <div class="checkbox">
            <label>
              <input type="checkbox" name="settings-match-onload" id="settings-match-onload">
              <span>Match rules only when all assets are loaded</span>
              <div class="comment">
                Form-o-Fill will by default check if any rules or workflows match when the HTML of the page is loaded ("<a href="https://developer.mozilla.org/de/docs/Web/Events/DOMContentLoaded">DOMContentLoaded</a>" event).<br>
                By activating this checkbox it will revert to the pre 3.0.0 behaviour of checking when all assets (images, javascript, CSS) are loaded ("<a href="https://developer.mozilla.org/de/docs/Web/Events/load">load</a>" event).
              </div>
            </label>
          </div>

          <div class="checkbox">
            <label>
              <input type="checkbox" name="settings-match-tab" id="settings-match-tab">
              <span>Do not re-matches rules when switching tabs</span>
              <div class="comment">
                By default Form-O-Fill will match rules when switching tabs. This behaviour might be not be wanted especially when using <code>autorun</code>.<br />
                Checking this deactivate this behaviour.
              </div>
            </label>
          </div>

          <div class="checkbox">
            <label>
              <input type="checkbox" name="settings-dont-fire-events" id="settings-dont-fire-events">
              <span>Don't fire events after fields are filled</span>
              <div class="comment">
                If activated Form-O-Fill will <em>not</em> fire the DOM events on every field that is filled. <br />
                Events fired are those defined by the <a href="https://html.spec.whatwg.org/#the-input-element:event-change-2">HTML spec</a>, usually <code>input</code> and <code>change</code> after that.
              </div>
            </label>
          </div>

          <div class="grouped">
            <div class="text">
              <label>
                <input type="checkbox" name="activate-import-source-url" id="settings-activate-import-source-url">
                <span>Activate remote rules import</span>
                <div class="comment">
                  This will import the rules/workflows from the URL given below.<br />
                  Data will be updated when you press the import button, (re-)start the browser and automatically every ##Utils.alarmIntervalInMinutes## minutes.
                </div>
              </label>
              <input type="url" name="import-source-url" id="settings-import-source-url" placeholder="http://my.url.com/rules.js" />
              <button class="save-and-import validate-import-source-url">Validate and import</button>
              <div class="comment">Last updated: <span id="import-source-url-date"></span></div>
            </div>

            <div class="text no-cb">
              <label>
                <span>Use password for encrypted remote import</span>
                <div class="comment">
                  You can use an encrypted export of all rules &amp; workflows if you want to "hide" the content from prying eyes.<br />
                  Enter the password here:
                </div>
              </label>
              <input type="password" name="import-source-password" id="settings-import-source-password"/>
            </div>
          </div>

          <div class="text">
            <label>
              <input type="range" name="screenshot-quality" id="settings-screenshot-quality" min="30" max="100" step="10" value="60">
              <span>JPEG image quality (<span class="settings-screenshot-quality-percent">60</span>%)</span>
              <div class="comment">
                If you take a screenshot using <code>Libs.h.screenshot</code> or the rule/field definition flags this quality setting will be used.
              </div>
            </label>
          </div>

        </div>
      </div>

      <div id="tutorials">
        <header>
          <h1>Tutorials</h1>
        </header>
        <div class="content">
          <h3>Learn the features of Form-O-Fill with these tutorials</h3>
          <p>
            The extension now includes an growing number of tutorials covering the basic and advanced features.
          </p>
          <p>
            <a href="http://form-o-fill.github.io/tutorial/">Click here to check them out if you like</a>.
          </p>
        </div>
      </div>

      <div id="about">
        <header>
          <h1>About Form-O-Fill</h1>
        </header>
        <div class="content">
          <p>
            Form-O-Fill is a chrome extension that aims at easing the live of web developers coping with long forms while developing.
          </p>
          <p>
            It was created by <a href="https://github.com/thenoseman/">Frank Schumacher</a>.
          </p>
          <p>
            It's source can be found on <a href="https://github.com/form-o-fill/form-o-fill-chrome-extension" target="_blank">github</a>.
          </p>
          <p>
            Reach us on <a href="https://github.com/form-o-fill/form-o-fill-chrome-extension" target="_blank">github</a> or via Email at <a href="mailto:formofillextension@gmail.com">formofillextension@gmail.com</a>.
          </p>
          <h3>Thanks and usages</h3>
          <p>
            Form-O-Fill would not be possible without the following projects used here:
          </p>
          <ul>
            <li>
              <a href="https://chrome.google.com/webstore/detail/testofill-form-filler-for/pkgdgajoinhkfldibdaledjikboognnl" target="_blank">Testofill</a> by Jakub Holy. Thanks for the inspiration!
            </li>
            <li>
              <a href="https://github.com/roykolak/chrome-bootstrap" target="_blank">Chrome-Bootstrap</a> by Roy Kolak. Used as a bootstrap for this options page. 
            </li>
            <li>
              <a href="http://icomoon.io/" target="_blank">IcoMoon</a> for creating a superb custom font generator.
            </li>
            <li>
              <a href="http://www.entypo.com/" target="_blank">Entypo font</a> for providing the bucket and archiv icons.
            </li>
            <li>
              <a href="http://www.jquery.com" target="_blank">jQuery</a> for the most ubiquous library ever.
            </li>
            <li>
              <a href="http://ace.c9.io/" target="_blank">Ace Editor</a>. Javascript editor in the cloud(9).
            </li>
            <li>
              <a href="http://jsbeautifier.org/" target="_blank">JS Beautifier</a>. Javascript for formatting Javascript. Inception anyone?
            </li>
            <li>
              <a href="http://chancejs.com/" target="_blank">chance.js</a> is a library to create test/dummy data for all kinds of use-cases. 
            </li>
            <li>
              <a href="http://momentjs.com/" target="_blank">moment.js</a>. Parse, validate, manipulate, and display dates in javascript.
            </li>
            <li>
              A heavily modified version of <a href="http://usablica.github.io/intro.js" target="_blank">intro.js</a> is used for the live tutorials. 
            </li>
            <li>
              <a href="https://bitwiseshiftleft.github.io/sjcl/" target="_blank">sjcl.js</a>. Fast encryption library.
            </li>
            <li>
              <a href="http://mathjs.org/" target="_blank">math.js</a> by <a href="https://github.com/josdejong">Jos de Jong</a> licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License, Version 2.0</a>.
            </li>
            <li>
              <a href="https://github.com/Autarc/optimal-select">OptimalSelect</a> by autoarc
            </li>
          </ul>
          <h3>Contributions</h3>
          <p>
            <a href="https://github.com/floj">floj</a> added the environment object as second parameter for before functions.
          </p>
        </div>
      </div>

      <div id="changelog"></div>

      <div id="privacy">
        <header>
          <h1>Privacy policy</h1>
        </header>
        <div class="content">
          <p>Form-O-Fill will not collect, transfer or disclose your data. Period.</p>
          <p>
            All data neccessary for the extension to work is only stored and processed locally on your computer.
          </p>
          <p>
            For question regarding this please contact <a href="mailto:formofillextension@gmail.com">formofillextension@gmail.com</a>.
          </p>
        </div>
      </div>
      <div id="tutorial">
        <div id="tour1"></div>
        <div id="tour2"></div>
        <div id="tour3"></div>
        <div id="tour4"></div>
        <div id="tour5"></div>
        <div id="tour6"></div>
        <div id="tour7"></div>
        <div id="tour8"></div>
        <div id="tour9"></div>
        <div id="tour10"></div>
        <div id="tour11"></div>
        <div id="tour12"></div>
        <div id="tour13"></div>
      </div>
    </div>

    <div class="overlay modalimport" id="modalimportall" style="display: none;"></div>
    <div class="overlay modalimport" id="modalimportallencrypted" style="display: none;"></div>
    <div class="overlay modalimport" id="modaldeletetab" style="display: none;"></div>
  </div>
  <script src="../vendor/jquery/jquery.min.js" type="text/javascript"></script>
  <script src="../vendor/js-beautifier/beautify.js" type="text/javascript"></script>
  <script src="../vendor/ace/ace.js" type="text/javascript" charset="utf-8"></script>
  <script src="../vendor/ace/mode-javascript.js" type="text/javascript" charset="utf-8"></script>
  <script src="../vendor/ace/ext-language_tools.js" type="text/javascript" charset="utf-8"></script>
  <script src="../vendor/html5sortable/html.sortable.min.js" type="text/javascript" charset="utf-8"></script>
  <script src="../vendor/intro.js/intro.min.js" type="text/javascript" charset="utf-8"></script>
  <script src="../vendor/sjcl/sjcl.js" type="text/javascript" charset="utf-8"></script>
  <!-- REMOVE START -->
  <script src="../js/debug/logger.js"></script>
  <script src="../js/global/state.js"></script>
  <script src="../js/global/jsonf.js"></script>
  <script src="../js/global/utils.js"></script>
  <script src="../js/global/storage.js"></script>
  <script src="../js/global/rule.js"></script>
  <script src="../js/global/rules.js"></script>
  <script src="../js/global/i18n.js"></script>
  <script src="../js/global/libs.js"></script>
  <script src="../js/global/workflows.js"></script>
  <script src="../js/global/crypto.js" type="text/javascript"></script>
  <!-- REMOVE END -->
  <!-- BUILD START
  <script src="../js/global.js"></script>
  BUILD END -->
  <!-- REMOVE START -->
  <script src="../js/options/editor.js" type="text/javascript"></script>
  <script src="../js/options/chrome_bootstrap.js" type="text/javascript"></script>
  <script src="../js/options/tabs.js" type="text/javascript"></script>
  <script src="../js/options/import_export.js" type="text/javascript"></script>
  <script src="../js/options/tutorial.js" type="text/javascript"></script>
  <script src="../js/options/options.js" type="text/javascript"></script>
  <script src="../js/options/help.js" type="text/javascript"></script>
  <script src="../js/options/workflow.js" type="text/javascript"></script>
  <script src="../js/options/settings.js" type="text/javascript"></script>
  <script src="../js/options/rule_summary.js" type="text/javascript"></script>
  <!-- REMOVE END -->
  <!-- BUILD START
  <script src="../js/options.js"></script>
  BUILD END -->
</body>
</html>
