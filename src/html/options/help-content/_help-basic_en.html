<a name="help-basic"></a>
<h3>Rule syntax</h3>
<p>
  Rules are written as a javascript object.<br />
  You should always start with <code>var rules = [];</code>.<br />
  If you do not start your rule definition with that, Form-O-Fill will complain.
</p>
<p>
  This is the structure of a rule:
</p>
<div class="block-of-code">
  <div class="explaining">
    Define an array of rules. Rules must always start with this.
  </div>
  <div class="code">
    var rules = [
  </div>
</div>
<div class="block-of-code">
  <div class="explaining">
    Start of one rule
  </div>
  <div class="code">
    {
  </div>
</div>
<div class="block-of-code">
  <div class="explaining">
    A name for this rule. Mandatory.
  </div>
  <div class="code">
    &nbsp;&nbsp;name: "This is my first rule. So excited!",
  </div>
</div>
<div class="block-of-code">
  <div class="explaining">
    A regular expression that is matched against the current full URL.<br />
    Can be omitted if you use <code>content</code>.<br />
    Can also be a string like<br />
    <code>url: "http://example.com/test.html"</code>. In this case the rule matches when the
    complete URL matches.
  </div>
  <div class="code">
    &nbsp;&nbsp;url: /^http.*test.html$/,
  </div>
</div>
<div class="block-of-code">
  <div class="explaining">
    A regular expression that is matched against the HTML content of the page.<br />
    Can be omitted if you use <code>url</code>.<br />
  </div>
  <div class="code">
    &nbsp;&nbsp;content: /Something/,
  </div>
</div>
<div class="block-of-code">
  <div class="explaining">
    If you want to match <code>url</code> AND <code>content</code> at the same time use this!<br />
    Default is to match either <code>url</code> OR <code>content</code>.
  </div>
  <div class="code">
    &nbsp;&nbsp;matchBoth: true,
  </div>
</div>
<div class="block-of-code">
  <div class="explaining">
    If you set this to <code>true</code> and only this rule matches, it will be auto-executed.<br />
    You can also pass in a number of milliseconds that this rule will wait until it is run.<br />
    Optional, default is <code>false</code>.
  </div>
  <div class="code">
    &nbsp;&nbsp;autorun: true,
  </div>
</div>
<div class="block-of-code">
  <div class="explaining">
    Takes a <a href="#help-screenshot">screenshot</a> the moment the last field definition is done
    executing.
  </div>
  <div class="code">
    &nbsp;&nbsp;screenshot: true,
  </div>
</div>
<div class="block-of-code">
  <div class="explaining">
    If you set this to <code>true</code> the target fields will only be filled if<br />
    currently empty. Default is <code>false</code>.<br />
    Can be overwritten in the field definition.
  </div>
  <div class="code">
    &nbsp;&nbsp;onlyEmpty: true,
  </div>
</div>
<div class="block-of-code">
  <div class="explaining">
    Sets text color for the rule in the popup.<br />
    Can be any CSS color.
  </div>
  <div class="code">
    &nbsp;&nbsp;color: "#bada55"
  </div>
</div>
<div class="block-of-code">
  <div class="explaining">
    This is an array of fields you want to fill.
  </div>
  <div class="code">
    &nbsp;&nbsp;fields: [
  </div>
</div>
<div class="block-of-code">
  <div class="explaining">A field must have a <code>selector</code> and a <code>value</code>.</div>
  <div class="code">
    &nbsp;&nbsp;{
  </div>
</div>
<div class="block-of-code">
  <div class="explaining">
    A
    <a
      href="https://developer.mozilla.org/en-US/docs/Learn/CSS/Introduction_to_CSS/Selectors"
      target="_blank"
      >CSS selector</a
    >. Will be applied via <code>document.querySelectorAll</code>
  </div>
  <div class="code">
    &nbsp;&nbsp;&nbsp;&nbsp;selector: "#myfield",
  </div>
</div>
<div class="block-of-code">
  <div class="explaining">
    The value to fill the field with.<br />
    Can be a <a href="#help-functions">function</a>.
  </div>
  <div class="code">
    &nbsp;&nbsp;&nbsp;&nbsp;value: "Nyan Nyan Nyan",
  </div>
</div>
<div class="block-of-code">
  <div class="explaining">
    Limits the <code>selector</code> to an area specified by the <code>within</code> CSS
    selector.<br />
    Use this if you want to fill a form inside an <code>iframe</code>!
  </div>
  <div class="code">
    &nbsp;&nbsp;&nbsp;&nbsp;within: "#my-iframe", <--- Fills "#myfield" inside "#my-iframe"
  </div>
</div>
<div class="block-of-code">
  <div class="explaining">
    Only fill this field if currently empty.<br />
    Can also be set for the whole rule (see above). Can be omitted and defaults to
    <code>false</code>.
  </div>
  <div class="code">
    &nbsp;&nbsp;&nbsp;&nbsp;onlyEmpty: true
  </div>
</div>
<div class="block-of-code">
  <div class="explaining">
    &nbsp;
  </div>
  <div class="code">
    &nbsp;&nbsp;}]
  </div>
</div>
<div class="block-of-code">
  <div class="explaining">
    &nbsp;
  </div>
  <div class="code">
    }];
  </div>
</div>
